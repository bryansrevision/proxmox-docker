{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "üè† Home Assistant: Start Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["up", "-d"],
      "options": {
        "cwd": "${workspaceFolder:Home Assistant Integration}"
      },
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "group": {
        "kind": "build",
        "isDefault": true
      }
    },
    {
      "label": "üè† Home Assistant: Stop Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["down"],
      "options": {
        "cwd": "${workspaceFolder:Home Assistant Integration}"
      }
    },
    {
      "label": "üè† Home Assistant: View Logs",
      "type": "shell",
      "command": "docker-compose",
      "args": ["logs", "-f", "--tail=100"],
      "options": {
        "cwd": "${workspaceFolder:Home Assistant Integration}"
      },
      "isBackground": true,
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "üè† Home Assistant: Restart",
      "type": "shell",
      "command": "docker-compose",
      "args": ["restart"],
      "options": {
        "cwd": "${workspaceFolder:Home Assistant Integration}"
      }
    },
    {
      "label": "üè† Home Assistant: Health Check",
      "type": "shell",
      "command": "python",
      "args": [
        "${workspaceFolder:Home Assistant Integration}/test_ha_connection.py"
      ],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üñ•Ô∏è Proxmox: API Status Check",
      "type": "shell",
      "command": "ssh",
      "args": ["proxmox", "pvesh get /api2/json/version"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üñ•Ô∏è Proxmox: List VMs",
      "type": "shell",
      "command": "ssh",
      "args": ["proxmox", "qm list"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üñ•Ô∏è Proxmox: List Containers",
      "type": "shell",
      "command": "ssh",
      "args": ["proxmox", "pct list"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üñ•Ô∏è Proxmox: System Status",
      "type": "shell",
      "command": "ssh",
      "args": ["proxmox", "df -h && free -h && uptime"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üê≥ Docker: Start All Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["up", "-d"],
      "options": {
        "cwd": "${workspaceFolder:Proxmox Docker Platform}"
      }
    },
    {
      "label": "üê≥ Docker: Stop All Services",
      "type": "shell",
      "command": "docker-compose",
      "args": ["down"],
      "options": {
        "cwd": "${workspaceFolder:Proxmox Docker Platform}"
      }
    },
    {
      "label": "üê≥ Docker: View Container Status",
      "type": "shell",
      "command": "docker-compose",
      "args": ["ps"],
      "options": {
        "cwd": "${workspaceFolder:Proxmox Docker Platform}"
      }
    },
    {
      "label": "üê≥ Docker: View Logs",
      "type": "shell",
      "command": "docker-compose",
      "args": ["logs", "-f", "--tail=50"],
      "options": {
        "cwd": "${workspaceFolder:Proxmox Docker Platform}"
      },
      "isBackground": true
    },
    {
      "label": "üîå Test IFTTT Webhook",
      "type": "shell",
      "command": "curl",
      "args": [
        "-X",
        "POST",
        "https://maker.ifttt.com/trigger/test/with/key/bP_UORzOKD-9wjLYvfWanHbCuwIgaDXSxv2NfAtLM5Y",
        "-H",
        "Content-Type: application/json",
        "-d",
        "{\"value1\":\"Test from VS Code\"}"
      ],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üì¶ Python: Create Virtual Environment",
      "type": "shell",
      "command": "python",
      "args": ["-m", "venv", ".venv"],
      "options": {
        "cwd": "${workspaceFolder:Personal Data Platform}"
      }
    },
    {
      "label": "üì¶ Python: Install Requirements",
      "type": "shell",
      "command": "pip",
      "args": ["install", "-r", "requirements.txt"],
      "options": {
        "cwd": "${workspaceFolder:Personal Data Platform}"
      }
    },
    {
      "label": "üß™ Python: Run Tests",
      "type": "shell",
      "command": "pytest",
      "args": ["-v", "--tb=short"],
      "options": {
        "cwd": "${workspaceFolder:Personal Data Platform}"
      }
    },
    {
      "label": "üìù Generate Documentation",
      "type": "shell",
      "command": "python",
      "args": ["-m", "pydoc", "-b"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üîç Workspace: Check Git Status",
      "type": "shell",
      "command": "git",
      "args": ["status"],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üîç Workspace: Git Pull All Repos",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-Command",
        "foreach ($folder in @('c:\\Users\\Dylan\\Dev\\active\\proxmox-docker', 'c:\\Users\\Dylan\\Dev\\active\\proxmox-docs', 'c:\\Users\\Dylan\\Dev\\.WorkSpace\\HomeAssistant\\home-assistant-unified')) { if (Test-Path $folder) { Write-Host \\\"Pulling $folder...\\\"; Push-Location $folder; git pull; Pop-Location } }"
      ]
    },
    {
      "label": "‚ú® Format: All Python Files",
      "type": "shell",
      "command": "python",
      "args": ["-m", "ruff", "format", "."],
      "options": {
        "cwd": "${workspaceFolder}"
      }
    },
    {
      "label": "üîß Lint: Check Python Code",
      "type": "shell",
      "command": "python",
      "args": ["-m", "ruff", "check", "."],
      "options": {
        "cwd": "${workspaceFolder}"
      }
    },
    {
      "label": "üìä Deploy Verification: Home Assistant",
      "type": "shell",
      "command": "powershell",
      "args": [
        "-ExecutionPolicy",
        "Bypass",
        "-File",
        "${workspaceFolder:Home Assistant Integration}/scripts/deploy-verify.ps1"
      ]
    }
  ]
}
